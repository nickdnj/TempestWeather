# Environment configuration for Weather Overlay Streaming Pipeline (Vistter integration)
#
# All variables can be set in a .env file or as environment variables.

# Required environment variables
WB_API=
YOUTUBE_KEY=

# Tempest API configuration (for forecast overlays)
# Get your API key from: https://tempestwx.com/settings/tokens
TEMPEST_API_KEY=
TEMPEST_STATION_ID=
# Optional: State abbreviation to append to location name (e.g., "NJ", "CA")
TEMPEST_LOCATION_STATE=

# Fishing Report Configuration
# NOAA Station for Shrewsbury River water temperature (default: Sandy Hook)
FISHING_WATER_TEMP_STATION=8531680
# NOAA Station for Shrewsbury River tides (default: Atlantic Highlands)
FISHING_TIDE_STATION=8531662
# Location for fishing report (defaults to Shrewsbury River, NJ)
FISHING_LOCATION_NAME=Shrewsbury River
FISHING_LOCATION_LAT=40.3646
FISHING_LOCATION_LON=-74.0068

# RTSP source (via Wyse Bridge RTSP server)
RTSP_HOST=127.0.0.1
RTSP_PORT=8554
RTSP_USER=wb
CAMERA_NAME=poolhouse
# Optional: full RTSP URL override (including credentials if needed)
# RTSP_URL=rtsp://wb:YOUR_TOKEN@127.0.0.1:8554/poolhouse

# Overlay settings
# Overlay service URL served by the Tempest sidecar container
OVERLAY_URL=http://tempest-overlay:8080/overlay.png
# Example: http://tempest-overlay:8080/overlay.png?tideStation=8531942
OVERLAY_MARGIN=20

# Overlay polling interval (seconds)
OVERLAY_POLL_INTERVAL=60

# YouTube RTMP (optional override)
# YOUTUBE_URL=rtmp://x.rtmp.youtube.com/live2/${YOUTUBE_KEY}

# FFmpeg encoding options (adjust for target resolution/frame rate)
VIDEO_BITRATE=2500k
VIDEO_MAXRATE=2500k
VIDEO_BUF_SIZE=5000k
GOP_SIZE=60
PRESET=veryfast
PROFILE=high
OUTPUT_FRAMERATE=30
AUDIO_BITRATE=128k
# Audio settings
AUDIO_CHANNELS=2
AUDIO_SAMPLE_RATE=44100

# Duration of each streaming segment before restarting (HH:MM:SS)
SEGMENT_DURATION=00:30:00

# Network I/O timeout for FFmpeg (microseconds, for -rw_timeout)
FFMPEG_RW_TIMEOUT=5000000

# Logging verbosity (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO 
