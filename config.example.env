# Environment configuration for Weather Overlay Streaming Pipeline (Vistter integration)
#
# All variables can be set in a .env file or as environment variables.

# Required environment variables
WB_API=
YOUTUBE_KEY=

# RTSP source (via Wyse Bridge RTSP server)
RTSP_HOST=127.0.0.1
RTSP_PORT=8554
RTSP_USER=wb
CAMERA_NAME=poolhouse

# Overlay settings
# OVERLAY_URL should point to your local Flask overlay server, e.g.:
# OVERLAY_URL=http://localhost:5000/overlay?location1=Shrewsberry+River&location2=Monmouth+Beach+NJ&stationName=8531942
OVERLAY_URL=http://localhost:5000/overlay
OVERLAY_MARGIN=20

# Overlay polling interval (seconds)
OVERLAY_POLL_INTERVAL=60

# Path to the latest Tempest JSON data (used by Flask overlay server)
TEMPEST_JSON_PATH=/tmp/tempest_latest.json

# YouTube RTMP (optional override)
# YOUTUBE_URL=rtmp://x.rtmp.youtube.com/live2/${YOUTUBE_KEY}

# FFmpeg encoding options (adjust for target resolution/frame rate)
VIDEO_BITRATE=2500k
VIDEO_MAXRATE=2500k
VIDEO_BUF_SIZE=5000k
GOP_SIZE=60
PRESET=veryfast
PROFILE=high
OUTPUT_FRAMERATE=30
AUDIO_BITRATE=128k
# Audio settings
AUDIO_CHANNELS=2
AUDIO_SAMPLE_RATE=44100

# Duration of each streaming segment before restarting (HH:MM:SS)
SEGMENT_DURATION=00:30:00

# Network I/O timeout for FFmpeg (microseconds, for -rw_timeout)
FFMPEG_RW_TIMEOUT=5000000

# Logging verbosity (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO 